<%- include('partials/header') %>

<div class="container my-4">
  <div class="row align-items-center">
    <div class="col-md-4 mb-0 text-center">
      <img
        src="/profile/<%= profileId %>/profile-picture"
        alt="Profile Picture"
        class="img-fluid rounded-circle"
        style="max-width: 200px; height: auto;"
      />
    </div>
    <div class="col-md-8">
      <ul class="list-group list-group-flush">
        <li class="list-group-item d-flex">
          <div class="fw-bold me-3" style="min-width: 120px;">Name:</div>
          <div><%= profileName %></div>
        </li>
        <li class="list-group-item d-flex">
          <div class="fw-bold me-3" style="min-width: 120px;">Email:</div>
          <div><%= profileEmail %></div>
        </li>
        <li class="list-group-item d-flex">
          <div class="fw-bold me-3" style="min-width: 120px;">Mobile:</div>
          <div><%= profileMobile %></div>
        </li>
      </ul>
    </div>
  </div>
  <hr class="my-4" />
</div>

<!-- Listed Products -->

      <div class="col-lg-6 mx-auto">
        <h1 class="fw-light">Listed Products</h1>
        <p class="lead text-body-secondary">
          Products you are currently offering for sale.
        </p>
      </div>
   

<div class="album py-0 bg-body-tertiary">
  <div class="container">
    <% if (unsoldProducts.length === 0) { %>
      <div class="col-12 text-center">
        <p class="lead">No products available in this section yet.</p>
        <hr class="my-4" />
      </div>
    <% } else { %>
      <div class="d-flex overflow-auto gap-3 px-2">
        <% unsoldProducts.forEach(product => { %>
          <div style="min-width: 250px; flex: 0 0 auto;">
            <div class="card shadow-sm">
              <% if (product.image1) { %>
                <img src="/image/<%= product.id %>/image1" class="card-img-top object-fit-cover" style="height: 200px; width: 300px;" />
              <% } else { %>
                <rect fill="#55595c" width="100%" height="100%" />
              <% } %>
              <div class="card-body">
                <p class="card-text text-truncate d-block" style="max-width: 250px;">
                  <%= product.name %>
                </p>

                <div class="d-flex justify-content-between align-items-center">
                  <div class="btn-group">
                    <a class="btn btn-sm btn-outline-secondary" href="/product/<%= product.id %>">
                      View Details
                    </a>
                  </div>
                  <small class="text-body-secondary">Min. Price: <%= product.minimum_price %></small>
                </div>
              </div>
            </div>
          </div>
        <% }); %>
      </div>
    <% } %>
    <hr class="my-4" />
  </div>
  
</div>

<!-- Sold Products -->

      <div class="col-lg-6 mx-auto">
        <h1 class="fw-light">Sold Products</h1>
        <p class="lead text-body-secondary">
          Products you have successfully sold to others.
        </p>
      </div>
   

<div class="album py-0 bg-body-tertiary">
  <div class="container">
    <% if (soldProducts.length === 0) { %>
      <div class="col-12 text-center">
        <p class="lead">No products available in this section yet.</p>
        <hr class="my-4" />
      </div>
    <% } else { %>
      <div class="d-flex overflow-auto gap-3 px-2">
        <% soldProducts.forEach(product => { %>
          <div style="min-width: 250px; flex: 0 0 auto;">
            <div class="card shadow-sm">
              <% if (product.image1) { %>
                <img src="/image/<%= product.id %>/image1" class="card-img-top object-fit-cover" style="height: 200px; width: 300px;" />
              <% } else { %>
                <rect fill="#55595c" width="100%" height="100%" />
              <% } %>
              <div class="card-body">
                <p class="card-text text-truncate d-block" style="max-width: 250px;">
                  <%= product.name %>
                </p>

                <div class="d-flex justify-content-between align-items-center">
                  <div class="btn-group">
                    <a class="btn btn-sm btn-outline-secondary" href="/product/<%= product.id %>">
                      View Details
                    </a>
                  </div>
                  <small class="text-body-secondary">Min. Price: <%= product.minimum_price %></small>
                </div>
              </div>
            </div>
          </div>
        <% }); %>
      </div>
    <% } %>
    <hr class="my-4" />
  </div>
</div>
  
<!-- Purchased Products -->

      <div class="col-lg-6 mx-auto">
        <h1 class="fw-light">Purchased Products</h1>
        <p class="lead text-body-secondary">
          Products you have bought from others.
        </p>
      </div>
   

<div class="album py-0 bg-body-tertiary">
  <div class="container">
    <% if (buyedProducts.length === 0) { %>
      <div class="col-12 text-center">
        <p class="lead">No products available in this section yet.</p>
        <hr class="my-4" />
      </div>
    <% } else { %>
      <div class="d-flex overflow-auto gap-3 px-2">
        <% buyedProducts.forEach(product => { %>
          <div style="min-width: 250px; flex: 0 0 auto;">
            <div class="card shadow-sm">
              <% if (product.image1) { %>
                <img src="/image/<%= product.id %>/image1" class="card-img-top object-fit-cover" style="height: 200px; width: 300px;" />
              <% } else { %>
                <rect fill="#55595c" width="100%" height="100%" />
              <% } %>
              <div class="card-body">
                <p class="card-text text-truncate d-block" style="max-width: 250px;">
                  <%= product.name %>
                </p>

                <div class="d-flex justify-content-between align-items-center">
                  <div class="btn-group">
                    <a class="btn btn-sm btn-outline-secondary" href="/product/<%= product.id %>">
                      View Details
                    </a>
                  </div>
                  <small class="text-body-secondary">Min. Price: <%= product.minimum_price %></small>
                </div>
              </div>
            </div>
          </div>
        <% }); %>
      </div>
    <% } %>
    <hr class="my-4" />
  </div>
</div>
  
<!-- Pending Offers -->

      <div class="col-lg-6 mx-auto">
        <h1 class="fw-light">Pending Offers</h1>
        <p class="lead text-body-secondary">
          Products you have placed offers on, awaiting seller approval.
        </p>
      </div>
   

<div class="album py-0 bg-body-tertiary">
  <div class="container">
    <% if (unbuyedProducts.length === 0) { %>
      <div class="col-12 text-center">
        <p class="lead">No products available in this section yet.</p>
        <hr class="my-4" />
      </div>
    <% } else { %>
      <div class="d-flex overflow-auto gap-3 px-2">
        <% unbuyedProducts.forEach(product => { %>
          <div style="min-width: 250px; flex: 0 0 auto;">
            <div class="card shadow-sm">
              <% if (product.image1) { %>
                <img src="/image/<%= product.id %>/image1" class="card-img-top object-fit-cover" style="height: 200px; width: 300px;" />
              <% } else { %>
                <rect fill="#55595c" width="100%" height="100%" />
              <% } %>
              <div class="card-body">
                <p class="card-text text-truncate d-block" style="max-width: 250px;">
                  <%= product.name %>
                </p>

                <div class="d-flex justify-content-between align-items-center">
                  <div class="btn-group">
                    <a class="btn btn-sm btn-outline-secondary" href="/product/<%= product.id %>">
                      View Details
                    </a>
                  </div>
                  <small class="text-body-secondary">Min. Price: <%= product.minimum_price %></small>
                </div>
              </div>
            </div>
          </div>
        <% }); %>
      </div>
    <% } %>
    <hr class="my-4" />
  </div>
</div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
      crossorigin="anonymous"
    ></script>
  </body>
</html>